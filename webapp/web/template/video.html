{{define "video"}} {{template "header" .}}

<link
 href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"
 rel="stylesheet">

<script src="https://www.gstatic.com/firebasejs/3.6.4/firebase.js"></script>
<!-- TODO: API update <script src="https://www.gstatic.com/firebasejs/6.6.1/firebase-app.js"></script> -->

<script type="text/javascript" src="static/js/asviz.js"></script>
<script type="text/javascript" src="static/js/video.js"></script>

<style>
video {
 width: 320px;
 height: 240px;
 background-color: #888;
 border-radius: 7px;
}

button {
 margin: 5px 0px 0px 0px !important;
 width: 650px;
}

#yourVBox {
 float: left;
}

#friendsVBox {
 overflow: hidden;
}

.video-container {
 width: 320px;
 height: 240px;
 position: relative;
 margin: 0px 10px 0px 0px;
}

#videoFrame {
 width: 1010px;
 height: 300px;
}

.videos-line {
 float: left;
 margin: 10px 0px 0px 10px;
}

.controls-line {
 overflow: hidden;
 width: 320px;
 height: 240px;
 padding: 10px;
}

.overlay-desc {
 background: rgba(0, 0, 0, 0);
 position: absolute;
 top: 0;
 left: 0;
 width: 320px;
 height: 240px;
 padding: 10px;
}

.overlay-text {
 color: white;
}
</style>


<div class="content">

 <div id='as-error'></div>

 <h2>SCIONLab Video</h2>
 WIP testing for WebRTC -- DANGER! -- There be dragons here.

 <div id="videoFrame">

  <div class="videos-line">

   <div id="yourVBox" class="video-container">
    <video id="yourVideo" autoplay muted>
    </video>
    <div class="overlay-desc">
     <p id="yourIaText" class="overlay-text">Your Video</p>
     <p id="yourVar1" class="overlay-text"></p>
     <p id="yourVar2" class="overlay-text"></p>
     <p id="yourVar3" class="overlay-text"></p>
    </div>
   </div>

   <div id="friendsVBox" class="video-container">
    <video id="friendsVideo" autoplay></video>
    <div class="overlay-desc">
     <p id="friendsIaText" class="overlay-text">Your Friend's Video</p>
     <p id="friendsVar1" class="overlay-text"></p>
     <p id="friendsVar2" class="overlay-text"></p>
     <p id="friendsVar3" class="overlay-text"></p>
    </div>
   </div>

   <button onclick="showFriendsFace()" type="button"
    class="btn btn-primary btn-lg">
    <span class="glyphicon glyphicon-facetime-video" aria-hidden="true"></span>
    Call
   </button>

  </div>

  <div class="controls-line">
   <div id="connection-group">
    <div>
     <input type="radio" id="scion" name="connection" value="scion"
      disabled> <label for="scion">SCION</label>
    </div>
    <div>
     <input type="radio" id="internet" name="connection"
      value="internet" checked disabled> <label for="internet">Internet</label>
    </div>
   </div>
  </div>

 </div>

 <div class="stdout">
  <div id="videoout"></div>
 </div>

</div>

<script type="text/javascript">
    var yourId = Math.floor(Math.random() * 1000000000);
    var yourIa = {{.MyIA}};
    var friendsIa;
</script>

{{template "footer" .}} {{end}}
